{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Register = Register;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Button = require(\"../components/Button\");\n\nvar _Error = require(\"../components/Error\");\n\nvar _Heading = require(\"../components/Heading\");\n\nvar _IconButton = require(\"../components/IconButton\");\n\nvar _Input = require(\"../components/Input\");\n\nvar _Loading = require(\"../components/Loading\");\n\nvar _AuthContext = require(\"../context/AuthContext\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\Marco\\\\React-Native-Proyects\\\\portalprofuelsv2\\\\src\\\\screens\\\\Register.js\";\n\nfunction Register(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useContext = _react.default.useContext(_AuthContext.AuthContext),\n      register = _React$useContext.register;\n\n  var _React$useState = _react.default.useState(''),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var _React$useState3 = _react.default.useState(''),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      pass = _React$useState4[0],\n      setPass = _React$useState4[1];\n\n  var _React$useState5 = _react.default.useState(false),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var _React$useState7 = _react.default.useState(''),\n      _React$useState8 = (0, _slicedToArray2.default)(_React$useState7, 2),\n      error = _React$useState8[0],\n      setError = _React$useState8[1];\n\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_IconButton.IconButton, {\n    style: styles.closeIcon,\n    name: 'close-circle-outline',\n    onPress: function onPress() {\n      navigation.pop();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Heading.Heading, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, \"Register\"), _react.default.createElement(_Error.Error, {\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Input.Input, {\n    placeholder: 'Usuario',\n    style: styles.input,\n    value: user,\n    onChangeText: setUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Input.Input, {\n    placeholder: 'Contraseña',\n    style: styles.input,\n    value: pass,\n    onChangeText: setPass,\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Button.FilledButton, {\n    title: 'Registrarse',\n    style: styles.loginButton,\n    onPress: function _callee() {\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return _regenerator.default.awrap(register(user, pass));\n\n            case 4:\n              navigation.pop();\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              setError(_context.t0.message);\n              setLoading(false);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Loading.Loading, {\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 32,\n    paddingTop: 120,\n    alignItems: 'center',\n    backgroundColor: '#0F212E'\n  },\n  title: {\n    paddingBottom: 50,\n    color: 'white'\n  },\n  input: {\n    marginVertical: 8\n  },\n  loginButton: {\n    marginVertical: 20\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 20,\n    right: 32\n  }\n});","map":{"version":3,"sources":["C:/Users/Marco/React-Native-Proyects/portalprofuelsv2/src/screens/Register.js"],"names":["Register","navigation","React","useContext","AuthContext","register","useState","user","setUser","pass","setPass","loading","setLoading","error","setError","styles","container","closeIcon","pop","title","input","loginButton","message","StyleSheet","create","flex","padding","paddingTop","alignItems","backgroundColor","paddingBottom","color","marginVertical","position","top","right"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { FilledButton } from '../components/Button'\r\nimport { Error } from '../components/Error'\r\nimport { Heading } from '../components/Heading'\r\nimport { IconButton } from '../components/IconButton'\r\nimport { Input } from '../components/Input'\r\nimport { Loading } from '../components/Loading'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nexport function Register({ navigation }) {\r\n\r\n    const { register } = React.useContext(AuthContext)\r\n    const [user, setUser] = React.useState('');\r\n    const [pass, setPass] = React.useState('');\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [error, setError] = React.useState('');\r\n\r\n    return (\r\n\r\n        <View style={styles.container}>\r\n            <IconButton style={styles.closeIcon} name={'close-circle-outline'} onPress={() => {\r\n                navigation.pop();\r\n            }}\r\n            />\r\n\r\n            <Heading style={styles.title}>Register</Heading>\r\n            <Error error={error} />\r\n            <Input\r\n                placeholder={'Usuario'}\r\n                style={styles.input}\r\n                value={user}\r\n                onChangeText={setUser}\r\n            />\r\n            <Input\r\n                placeholder={'Contraseña'}\r\n                style={styles.input}\r\n                value={pass}\r\n                onChangeText={setPass}\r\n                secureTextEntry\r\n            />\r\n            <FilledButton\r\n                title={'Registrarse'}\r\n                style={styles.loginButton}\r\n                onPress={async () => {\r\n\r\n                    try {\r\n                        setLoading(true);\r\n                        await register(user, pass);\r\n                        navigation.pop();\r\n\r\n                    } catch (e) {\r\n\r\n                        setError(e.message);\r\n                        setLoading(false);\r\n\r\n                    }\r\n                }}\r\n            />\r\n            <Loading loading={true}></Loading>\r\n        </View>\r\n    )\r\n\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        padding: 32,\r\n        paddingTop: 120,\r\n        alignItems: 'center',\r\n        backgroundColor: '#0F212E',\r\n    },\r\n    title: {\r\n        paddingBottom: 50,\r\n        color: 'white'\r\n\r\n    },\r\n    input: {\r\n        marginVertical: 8,\r\n    },\r\n    loginButton:\r\n    {\r\n        marginVertical: 20,\r\n    },\r\n    closeIcon: {\r\n        position: 'absolute',\r\n        top: 20,\r\n        right: 32,\r\n    }\r\n})\r\n"]},"metadata":{},"sourceType":"script"}